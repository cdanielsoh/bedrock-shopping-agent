# Bedrock Shopping Assistant 🛍️

An AI-powered shopping assistant built with AWS services, featuring real-time chat, personalized recommendations, and intelligent product search.

## 🌟 Features

- 🤖 **Intelligent Chat**: Real-time WebSocket communication with Claude 3.5 Haiku
- 🎯 **Personalized Recommendations**: AI-generated suggestions based on user behavior
- 🔍 **Product Search**: Fast, scalable search with OpenSearch Serverless
- 👤 **User Profiles**: Detailed personas and shopping behavior tracking

## 📸 Screenshots

![Home Screen](static/homescreen.png)
*Main interface with chat and recommendations*

![Product Search Demo](static/product_search.gif)
*Real-time product search*

## 🏗️ Architecture

```
┌─────────────────────┐    ┌─────────────────────┐
│  OpenSearchStack    │    │   DynamoDBStack     │
│  - Product Search   │    │   - User Data       │
└─────────────────────┘    └─────────────────────┘
         │                           │
         └─────────┬─────────────────┘
                   │
         ┌─────────▼─────────┐
         │  WebFrontendStack │
         │  - React Frontend │
         │  - WebSocket API  │
         └───────────────────┘
```

## 🚀 Quick Start

### Prerequisites
- AWS CLI configured
- Node.js 18+
- Python 3.9+
- AWS CDK v2

### Setup & Deploy
```bash
# Clone and setup
git clone <repository-url>
cd bedrock-shopping-agent
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

# Install Lambda layers (required dependencies - not included in repo)
./install_layers.sh

# Install frontend dependencies
cd frontend
npm install
cd ..

# Deploy stacks
cdk deploy OpenSearchServerlessStack --require-approval never
cdk deploy DynamoDbStack --require-approval never
cdk deploy WebFrontendStack --require-approval never

# Build and deploy frontend
cd frontend
npm run build
aws s3 sync dist/ s3://$(aws cloudformation describe-stacks --stack-name WebFrontendStack --query 'Stacks[0].Outputs[?OutputKey==`WebsiteURL`].OutputValue' --output text | sed 's|https://||' | sed 's|\.cloudfront\.net||').s3.amazonaws.com
```

## 📁 Project Structure

```
bedrock-shopping-agent/
├── 📁 stacks/                   # CDK Infrastructure
│   ├── 📁 opensearch/           # Search infrastructure
│   ├── 📁 dynamodb/             # Database tables
│   └── 📁 webfrontend/          # Frontend + APIs
├── 📁 lambda/                   # Backend functions
│   ├── 📁 websocket/            # Real-time chat
│   └── 📁 recommend_next_chat/  # Next chat recommendations
│   └── 📁 ingest_opensearch/    # OpenSearch data ingetsion
├── 📁 frontend/                 # React application
│   ├── 📁 src/
│   │   ├── 📁 components/       # UI components
│   │   ├── 📁 services/         # API clients
│   │   └── 📁 data/             # User data
├── 📁 layers/                   # Lambda layers (generated by install_layers.sh)
├── 📁 images/                   # Product images
├── 📄 install_layers.sh         # Layer installation script
└── 📄 app.py                    # CDK app entry point
```

> **Note**: The `layers/` folder is generated by running `./install_layers.sh` and should not be committed to version control. It contains Python dependencies for Lambda functions.
